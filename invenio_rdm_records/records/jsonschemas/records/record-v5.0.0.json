{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "id": "local://records/record-v5.0.0.json",
  "title": "InvenioRDM Record Schema v5.0.0",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "$schema": {},
    "id": {},
    "pid": {},
    "pids": {
      "type": "object",
      "description": "External persistent identifiers for a record including e.g. OAI-PMH identifier, minted DOIs and more. PIDs are registered in the PIDStore.",
      "additionalProperties": {},
      "propertyNames": {
        "pattern": "^[a-z_-][a-z0-9_-]*$"
      },
      "uniqueItems": true
    },
    "metadata": {
      "type": "object",
      "description": "Resource metadata.",
      "additionalProperties": false,
      "properties": {
        "resource_type": {},
        "creators": {
          "description": "Creators of the resource.",
          "type": "array",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "person_or_org": {},
              "role": {},
              "affiliations": {}
            }
          }
        },
        "title": {
          "description": "Primary title of the record.",
          "type": "string",
          "properties": {
            "required": [
              "title"
            ]
          }
        },
        "last modified time": {
          "description": "last edited.",
          "type": "object",
          "properties": {
            "timestamp": {
              "type": "string",
              "format": "date-time"
            }
          }
        },
        "Program": {
          "description": "What program is being used?",
          "type": "string"
        },
        "Parent Version": {
          "description": "What prior version is this based on?",
          "type": "string"
        },
        "Status": {
          "description": "What is the status of your model?",
          "type": "object",
          "enum": [
            "Unpublished",
            "toReview",
            "Published",
            "Recommended or Authorative",
            "Obsolete"
          ]
        },
        "Description": {
          "description": "Describe your data.",
          "type": "string",
          "properties": {
            "required": [
              "Description"
            ]
          }
        },
        "purpose": {
          "description": "Reason for your data.",
          "type": "string",
          "properties": {
            "required": [
              "purpose"
            ]
          }
        },
        "Keywords": {
          "description": "Use commas to seperate Keywords.",
          "type": "array",
          "properties": {
            "required": [
              "Keywords"
            ]
          }
        },
        "Model Category": {
          "description": "Choose the type of your model.",
          "type": "object",
          "enum": [
            "Hydrology",
            "Agriculture",
            "Atmospheric Dispersion",
            "Decision Support",
            "Economy",
            "Fire",
            "Weather"
          ],
          "properties": {
            "required": [
              "Model Category"
            ]
          }
        },
        "License": {
          "description": "Any license or copyright information for this resource.",
          "type": "array",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "id": {},
              "title": {
                "description": "The license name or license itself. Free text.",
                "type": "object"
              },
              "description": {
                "description": "The license description Free text.",
                "type": "object"
              },
              "link": {
                "type": "string",
                "format": "uri"
              }
            }
          }
        },
        "Spatial": {
          "description": "What spatial data is used?",
          "type": "string"
        },
        "Temporal": {
          "description": "What temporal data is used?",
          "type": "string"
        }
      },
      "required": [
        "title",
        "Description",
        "purpose",
        "Keywords",
        "Model Category"
      ]
    },
    "ext": {
      "type": "object",
      "description": "Configured additional metadata"
    },
    "tombstone": {
      "type": "object",
      "description": "Tombstone for the record.",
      "additionalProperties": false,
      "properties": {
        "reason": {
          "type": "string",
          "description": "Reason for removal."
        },
        "category": {
          "type": "string",
          "description": "Category for the removal."
        },
        "removed_by": {},
        "timestamp": {
          "type": "string",
          "description": "ISO8601 formatted timestamp in UTC.",
          "format": "date-time"
        }
      }
    },
    "provenance": {
      "type": "object",
      "description": "Record provenance.",
      "additionalProperties": false,
      "properties": {
        "created_by": {},
        "on_behalf_of": {}
      }
    },
    "access": {
      "type": "object",
      "description": "Record access control and ownership.",
      "additionalProperties": false,
      "properties": {
        "record": {
          "description": "Record visibility (public or restricted)",
          "type": "string",
          "enum": [
            "public",
            "restricted"
          ]
        },
        "files": {
          "description": "Files visibility (public or restricted)",
          "type": "string",
          "enum": [
            "public",
            "restricted"
          ]
        },
        "embargo": {
          "description": "Description of the embargo on the record.",
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "active": {
              "description": "Whether or not the embargo is (still) active.",
              "type": [
                "boolean",
                "null"
              ]
            },
            "until": {
              "description": "Embargo date of record (ISO8601 formatted date time in UTC). At this time both metadata and files will be made public.",
              "type": [
                "string",
                "null"
              ],
              "format": "date"
            },
            "reason": {
              "description": "The reason why the record is under embargo.",
              "type": [
                "string",
                "null"
              ]
            }
          }
        }
      }
    },
    "files": {
      "type": "object",
      "description": "Files associated with the record",
      "additionalProperties": false,
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Set to false for metadata only records."
        },
        "default_preview": {
          "type": "string",
          "description": "Key of the default previewed file."
        },
        "order": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "entries": {
          "type": "object",
          "additionalProperties": {}
        },
        "meta": {
          "type": "object",
          "additionalProperties": {
            "type": "object"
          }
        }
      }
    },
    "notes": {
      "type": "array",
      "items": {
        "type": "string"
      }
    }
  },
  "required": [
    "metadata"
  ]
}
